{% extends 'base.html' %}

{% block content %}
    <script>
        var sessionID = "{{ sessionID }}";

        function initVideo() {
            if (sessionID != "") {
                $('#modalJoinSession').modal({backdrop: 'static', keyboard: false});
            }
            else {
                $('#modalHomepage').modal({backdrop: 'static', keyboard: false});
            }
        }
    </script>

    <style>
        #home-div {
            display: none;
        }
    </style>

    <h1>Welcome to Youtube-Sync!</h1>

    <div class="modal fade" id="modalHomepage" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Join or Create a Session</h5>
          </div>
          <div class="modal-body">
            <table class="homepageTable">
                <tr>
                    <td>
                        <b>Join an Existing Session</b>
                        <input type="text" id="homepageJoinSession-username" placeholder="Your Name" class="form-control" />
                        <input type="text" id="homepageJoinSession-sessionID" placeholder="Session Code" class="form-control" />
                        <button type="button" class="btn btn-primary">Join Session</button>
                    </td>
                    <td>
                        <b>Create a New Session</b>
                        <input type="text" id="homepageCreateSession-username" placeholder="Your Name" class="form-control" />
                        <input type="text" id="createSession-URL" placeholder="YouTube Video URL" class="form-control" />
                        <button type="button" class="btn btn-primary">Create Session</button>
                    </td>
                </tr>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="modalJoinSession" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Join Session {{ sessionID }}</h5>
          </div>
          <div class="modal-body">
            <input type="text" id="joinSession-username" placeholder="Your Name" class="form-control" />
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary">Join Session</button>
          </div>
        </div>
      </div>
    </div>

    <br><br>

    <div id="video-div">
        <video
            id="video-js"
            class="video-js"
            controls
            autoplay
            preload="auto"
            poster="MY_VIDEO_POSTER.jpg"
            data-setup='{
                "techOrder": ["youtube"],
                "sources": [{
                    "type": "video/youtube",
                    "src": ""
                }]
            }'
            >
                <p class="vjs-no-js">
                    To view this video please enable JavaScript, and consider upgrading to a web browser that
                    <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
                </p>
        </video>
    </div>
{% endblock %}