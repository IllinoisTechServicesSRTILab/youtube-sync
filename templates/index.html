{% extends 'base.html' %}

{% block content %}
    <script>
        var sessionID = "{{ sessionID }}";

        function initVideo() {
            var homeDiv = document.getElementById("home-div");
            var joinDiv = document.getElementById("join-div");
            var videoDiv = document.getElementById("video-div");

            if (sessionID.length == 5) {
                //joinDiv.style.display = "initial";
            } else {
                //homeDiv.style.display = "initial";
            }
        }
    </script>

    <style>
        #home-div {
            display: none;
        }
    </style>

    <h1>Welcome to Youtube-Sync!</h1>

    <div id="home-div">
        <h3>Host a Session</h3>
        <input type="text" id="hostName" placeholder="Your Name" />
        <input type="text" id="videoURL" placeholder="YouTube Video URL" /><br>
        <button type="button" class="btn btn-primary">Create Session</button>

        <br><br>

        <h3>Join a Session</h3>
        <input type="text" id="guestHomeName" placeholder="Your Name" />
        <input type="text" id="sessionID" placeholder="Session ID" /><br>
        <button type="button" class="btn btn-primary">Join Session</button>
    </div>

    <div id="join-div">
        <div id="join-child">
            <div id="join-content">
                <h3>Join Video Session {{ sessionID }}</h3>
                <input type="text" id="guestJoinName" placeholder="Your Name" /><br>
                <button type="button" class="btn btn-primary">Join Session</button>
            </div>
        </div>
    </div>

    <br><br>

    <div id="video-div">
        <video
            id="video-js"
            class="video-js"
            controls
            autoplay
            preload="auto"
            poster="MY_VIDEO_POSTER.jpg"
            data-setup='{
                "techOrder": ["youtube"],
                "sources": [{
                    "type": "video/youtube",
                    "src": ""
                }]
            }'
            >
                <p class="vjs-no-js">
                    To view this video please enable JavaScript, and consider upgrading to a web browser that
                    <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
                </p>
        </video>
    </div>
{% endblock %}